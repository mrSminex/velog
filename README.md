# Проект Qt UDP Script Editor & Executor

Данный проект реализует два приложения с использованием Qt, которые взаимодействуют друг с другом посредством протокола UDP для создания и выполнения графических скриптов.

## Описание проектов

### ScriptEditor (Редактор скриптов)
Приложение для создания и редактирования QTScript-файлов с графическими примитивами.

**Функционал:**
- Текстовый редактор для написания QTScript кода
- Загрузка существующих скриптов (.qs файлы)
- Сохранение скриптов на диск
- Отправка скриптов через UDP протокол
- Поддержка работы с разными IP адресами и портами

### ScriptExecute (Исполнитель скриптов)
Приложение для получения и выполнения скриптов, полученных по UDP, с визуализацией результатов.

**Функционал:**
- Прослушивание UDP порта для получения скриптов
- Выполнение полученных скриптов с использованием QScriptEngine
- Визуализация результатов выполнения на графической сцене
- Поддержка работы на одном или разных компьютерах

## Функционал скриптов

Скрипты написанные в ScriptEditor должны отрисовывать следующие геометрические фигуры:

1. **Один синий залитый круг** - `drawCircle(100, 100, 50, "blue", true)`
2. **Один незалитый круг с бирюзовым контуром** - `drawCircle(250, 100, 50, "cyan", false)`
3. **Один треугольник** - `drawTriangle(400, 50, 350, 150, 450, 150, "green")`
4. **Один прямоугольник** - `drawRectangle(100, 200, 150, 100, "red")`
5. **Четыре линии разного цвета** - `drawLine(x1, y1, x2, y2, "color")`

## Требования к системе

- Qt 5.15 или выше
- Visual Studio 2019 (для сборки .sln файлов)

## Сборка и запуск

### Подготовка окружения

1. Установите Qt 5.15.x для Visual Studio 2019
2. Убедитесь, что переменная окружения `QTDIR` указывает на корневую директорию Qt
3. Откройте командную строку Visual Studio Developer Command Prompt

### Сборка ScriptEditor

```bash
cd ScriptEditor
qmake ScriptEditor.pro
nmake
```

Или откройте `ScriptEditor.sln` в Visual Studio 2019 и соберите проект.

### Сборка ScriptExecute

```bash
cd ScriptExecute
qmake ScriptExecute.pro
nmake
```

Или откройте `ScriptExecute.vcxproj` в Visual Studio 2019 и соберите проект.

## Запуск приложений

### Вариант 1: Работа на одном компьютере

1. Запустите ScriptExecute.exe
2. Нажмите кнопку "Start" (порт по умолчанию 1111)
3. Запустите ScriptEditor.exe
4. В ScriptEditor введите IP: `127.0.0.1`, Port: `1111`
5. Напишите или загрузите скрипт
6. Нажмите кнопку "Send"
7. В ScriptExecute нажмите кнопку "Execute" для выполнения скрипта

### Вариант 2: Работа на разных компьютерах

1. На первом компьютере запустите ScriptExecute.exe
2. Введите желаемый порт (например, 1111) и нажмите "Start"
3. На втором компьютере запустите ScriptEditor.exe
4. Введите IP адрес первого компьютера и порт (например, 192.168.1.100:1111)
5. Напишите или загрузите скрипт
6. Нажмите кнопку "Send"
7. На первом компьютере нажмите "Execute" для выполнения полученного скрипта

## Структура проекта

```
/
├── ScriptEditor/          # Проект редактора скриптов
│   ├── main.cpp
│   ├── mainwindow.cpp/h
│   ├── mainwindow.ui
│   ├── UDPSender.cpp/h    # UDP отправитель
│   └── ScriptEditor.pro   
├── ScriptExecute/         # Проект исполнителя скриптов
│   ├── main.cpp
│   ├── mainwindow.cpp/h
│   ├── mainwindow.ui
│   ├── UDPReceiver.cpp/h  # UDP приемник
│   ├── ScriptEngine.cpp/h # Движок выполнения скриптов
│   ├── GraphicsScene.cpp/h # Графическая сцена для рисования
│   └── ScriptExecute.pro  
├── srcScripts/            # Примеры скриптов
│   ├── script.qs         
│   └── happy.qs          
├── README.md             
└── .gitignore           
```

## API функций скриптов

### drawCircle(x, y, radius, color, filled)
Рисует круг
- `x, y` - координаты центра
- `radius` - радиус
- `color` - цвет контура (строка)
- `filled` - заливка (true/false)

### drawRectangle(x, y, width, height, color)
Рисует прямоугольник
- `x, y` - координаты верхнего левого угла
- `width, height` - ширина и высота
- `color` - цвет контура

### drawTriangle(x1, y1, x2, y2, x3, y3, color)
Рисует треугольник
- `x1,y1`, `x2,y2`, `x3,y3` - координаты вершин
- `color` - цвет контура

### drawLine(x1, y1, x2, y2, color)
Рисует линию
- `x1,y1`, `x2,y2` - координаты начала и конца
- `color` - цвет линии

## Поддерживаемые цвета

- Основные цвета: red, green, blue, black, white, cyan, magenta, yellow, gray
- Темные цвета: darkRed, darkGreen, darkBlue, darkCyan, darkMagenta, darkYellow, darkGray
- Светлые цвета: lightGray

## Примеры использования

